@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  .glass-card {
    @apply bg-white/70 backdrop-blur-xl border border-white/20 shadow-xl;
  }

  .glass-card-hover {
    @apply hover:bg-white/80 transition-all duration-300 hover:shadow-2xl hover:scale-[1.01] hover:border-white/40;
  }

  /* Enhanced glass card with gradient border */
  .glass-card-premium {
    @apply relative bg-white/80 backdrop-blur-xl shadow-2xl overflow-hidden;
    border: 1px solid transparent;
    background-clip: padding-box;
  }

  .glass-card-premium::before {
    content: '';
    position: absolute;
    inset: 0;
    padding: 1px;
    background: linear-gradient(135deg, rgba(255,255,255,0.4), rgba(255,255,255,0.1), rgba(255,255,255,0.3));
    border-radius: inherit;
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask-composite: exclude;
    -webkit-mask-composite: xor;
    pointer-events: none;
  }

  /* Skeleton loading placeholder with shimmer */
  .skeleton {
    @apply relative overflow-hidden bg-slate-200 rounded;
  }

  .skeleton::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.4),
      transparent
    );
    background-size: 200% 100%;
    animation: shimmer 2s linear infinite;
  }

  /* Button glow effect */
  .btn-glow {
    @apply relative overflow-hidden;
  }

  .btn-glow::before {
    content: '';
    position: absolute;
    inset: -2px;
    background: linear-gradient(45deg, #6366f1, #8b5cf6, #a855f7, #6366f1);
    background-size: 400% 400%;
    border-radius: inherit;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease;
    animation: gradient-rotate 3s ease infinite;
  }

  .btn-glow:hover::before {
    opacity: 0.7;
  }

  /* Floating background orb */
  .orb {
    @apply absolute rounded-full blur-3xl opacity-30 pointer-events-none;
  }

  .orb-1 {
    @apply bg-gradient-to-br from-amber-200 to-orange-300;
    animation: float 8s ease-in-out infinite;
  }

  .orb-2 {
    @apply bg-gradient-to-br from-indigo-200 to-purple-300;
    animation: float 10s ease-in-out infinite;
    animation-delay: -2s;
  }

  .orb-3 {
    @apply bg-gradient-to-br from-emerald-200 to-teal-300;
    animation: float 12s ease-in-out infinite;
    animation-delay: -4s;
  }

  /* Gradient text effect */
  .text-gradient {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(135deg, #6366f1, #8b5cf6, #a855f7);
  }

  .text-gradient-amber {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(135deg, #f59e0b, #d97706, #b45309);
  }

  /* Card shine effect on hover */
  .card-shine {
    @apply relative overflow-hidden;
  }

  .card-shine::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
      45deg,
      transparent 40%,
      rgba(255, 255, 255, 0.1) 50%,
      transparent 60%
    );
    transform: translateX(-100%) rotate(45deg);
    transition: transform 0.6s ease;
    pointer-events: none;
  }

  .card-shine:hover::after {
    transform: translateX(100%) rotate(45deg);
  }

  /* Ripple effect container */
  .ripple-container {
    @apply relative overflow-hidden;
  }

  .ripple {
    @apply absolute rounded-full bg-white/30 pointer-events-none;
    animation: ripple 0.6s ease-out forwards;
  }

  /* Progress bar with gradient */
  .progress-bar {
    @apply h-1.5 rounded-full overflow-hidden bg-slate-200;
  }

  .progress-bar-fill {
    @apply h-full rounded-full transition-all duration-500 ease-out;
    background: linear-gradient(90deg, #f59e0b, #d97706, #f59e0b);
    background-size: 200% 100%;
    animation: shimmer 2s linear infinite;
  }

  /* Concentric rings loader */
  .ring-loader {
    @apply relative;
  }

  .ring-loader .ring {
    @apply absolute rounded-full border-2 border-transparent;
    border-top-color: currentColor;
  }

  .ring-loader .ring-1 {
    @apply w-20 h-20 text-amber-500;
    animation: spin 1.5s linear infinite;
  }

  .ring-loader .ring-2 {
    @apply w-16 h-16 text-amber-400;
    top: 0.5rem;
    left: 0.5rem;
    animation: spin 2s linear infinite reverse;
  }

  .ring-loader .ring-3 {
    @apply w-12 h-12 text-amber-300;
    top: 1rem;
    left: 1rem;
    animation: spin 2.5s linear infinite;
  }

  /* Phase indicator dots */
  .phase-dots {
    @apply flex gap-2;
  }

  .phase-dot {
    @apply w-2 h-2 rounded-full bg-slate-300 transition-all duration-300;
  }

  .phase-dot.active {
    @apply bg-amber-500 scale-125;
  }

  .phase-dot.completed {
    @apply bg-amber-500;
  }

  /* Tab button enhanced */
  .tab-btn {
    @apply relative px-6 py-2.5 rounded-full text-sm font-semibold transition-all duration-300;
  }

  .tab-btn.active {
    @apply text-white shadow-lg;
  }

  .tab-btn.active::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    z-index: -1;
  }

  .tab-btn:not(.active) {
    @apply bg-white/80 backdrop-blur-md text-slate-500 hover:bg-white border border-white/40;
  }

  /* Quotation decoration */
  .quote-decoration::before {
    content: '"';
    @apply absolute -top-4 -left-2 text-6xl text-amber-200/50 font-serif leading-none;
  }

  /* Focus indicator line */
  .focus-line {
    @apply absolute bottom-0 left-1/2 h-0.5 bg-indigo-500 transition-all duration-300 -translate-x-1/2;
    width: 0;
  }

  .focus-line.active {
    width: 100%;
  }

  /* Character counter */
  .char-counter {
    @apply text-xs transition-colors duration-200;
  }

  .char-counter.warning {
    @apply text-amber-500;
  }

  .char-counter.error {
    @apply text-red-500;
  }
}

/* Animations defined in CSS for better browser support */
.animate-blob {
  animation: blob 7s infinite;
}

.animation-delay-2000 {
  animation-delay: 2s;
}

.animation-delay-4000 {
  animation-delay: 4s;
}

@keyframes blob {
  0% { transform: translate(0px, 0px) scale(1); }
  33% { transform: translate(30px, -50px) scale(1.1); }
  66% { transform: translate(-20px, 20px) scale(0.9); }
  100% { transform: translate(0px, 0px) scale(1); }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes float {
  0%, 100% { transform: translateY(0px) translateX(0px); }
  25% { transform: translateY(-20px) translateX(10px); }
  50% { transform: translateY(-10px) translateX(-10px); }
  75% { transform: translateY(-25px) translateX(5px); }
}

@keyframes ripple {
  0% { transform: scale(0); opacity: 0.5; }
  100% { transform: scale(4); opacity: 0; }
}

@keyframes gradient-rotate {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  .orb,
  .animate-blob,
  .skeleton::after,
  .progress-bar-fill,
  .ring-loader .ring {
    animation: none !important;
  }
}
